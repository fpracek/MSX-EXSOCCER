                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module pcmplay
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _PCM_Play
                                     12 ;--------------------------------------------------------
                                     13 ; special function registers
                                     14 ;--------------------------------------------------------
                         000000A8    15 _g_PortPrimarySlot	=	0x00a8
                         000000A9    16 _g_PortReadKeyboard	=	0x00a9
                         000000AA    17 _g_PortAccessKeyboard	=	0x00aa
                         000000AB    18 _g_PortControl	=	0x00ab
                         00000098    19 _g_VDP_DataPort	=	0x0098
                         00000099    20 _g_VDP_RegPort	=	0x0099
                         00000099    21 _g_VDP_AddrPort	=	0x0099
                         00000099    22 _g_VDP_StatPort	=	0x0099
                         000000A0    23 _g_PSG_RegPort	=	0x00a0
                         000000A1    24 _g_PSG_DataPort	=	0x00a1
                         000000A2    25 _g_PSG_StatPort	=	0x00a2
                         00000010    26 _g_PSG_Ext_RegPort	=	0x0010
                         00000011    27 _g_PSG_Ext_DataPort	=	0x0011
                         00000012    28 _g_PSG_Ext_StatPort	=	0x0012
                         0000007C    29 _g_MSXMusic_IndexPort	=	0x007c
                         0000007D    30 _g_MSXMusic_DataPort	=	0x007d
                         000000C0    31 _g_MSXAudio_IndexPort	=	0x00c0
                         000000C1    32 _g_MSXAudio_DataPort	=	0x00c1
                         000000C2    33 _g_MSXAudio_IndexPort2	=	0x00c2
                         000000C3    34 _g_MSXAudio_DataPort2	=	0x00c3
                         000000B4    35 _g_RTC_AddrPort	=	0x00b4
                         000000B5    36 _g_RTC_DataPort	=	0x00b5
                                     37 ;--------------------------------------------------------
                                     38 ; ram data
                                     39 ;--------------------------------------------------------
                                     40 	.area _DATA
                                     41 ;--------------------------------------------------------
                                     42 ; ram data
                                     43 ;--------------------------------------------------------
                                     44 	.area _INITIALIZED
                                     45 ;--------------------------------------------------------
                                     46 ; absolute external ram data
                                     47 ;--------------------------------------------------------
                                     48 	.area _DABS (ABS)
                                     49 ;--------------------------------------------------------
                                     50 ; global & static initialisations
                                     51 ;--------------------------------------------------------
                                     52 	.area _HOME
                                     53 	.area _GSINIT
                                     54 	.area _GSFINAL
                                     55 	.area _GSINIT
                                     56 ;--------------------------------------------------------
                                     57 ; Home
                                     58 ;--------------------------------------------------------
                                     59 	.area _HOME
                                     60 	.area _HOME
                                     61 ;--------------------------------------------------------
                                     62 ; code
                                     63 ;--------------------------------------------------------
                                     64 	.area _CODE
                                     65 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/pcm/pcmplay.c:65: void PCM_Play(void* addr, u16 size)
                                     66 ;	---------------------------------
                                     67 ; Function PCM_Play
                                     68 ; ---------------------------------
    00000000                         69 _PCM_Play::
                                     70 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/pcm/pcmplay.c:239: __endasm;
                         00000090    71 	GICINI	= 0x0090
                         00000093    72 	WRTPSG	= 0x0093
                         00000096    73 	RDPSG	= 0x0096
    00000000                         74 	PCMPLAY:
    00000000 F3               [ 4]   75 	di
    00000001 D9               [ 4]   76 	exx
    00000002 CD 90 00         [17]   77 	call	GICINI
    00000005 AF               [ 4]   78 	xor	a
    00000006 5F               [ 4]   79 	ld	e, a
    00000007 06 06            [ 7]   80 	ld	b, #6
    00000009                         81 	PCMPLAY_TONERESET:
    00000009 CD 93 00         [17]   82 	call	WRTPSG
    0000000C 3C               [ 4]   83 	inc	a
    0000000D 10 FA            [13]   84 	djnz	PCMPLAY_TONERESET
    0000000F 0E A1            [ 7]   85 	ld	c, #0xA1
    00000011 16 00            [ 7]   86 	ld	d, #0
    00000013 D9               [ 4]   87 	exx
    00000014                         88 	PCMPLAY_LOOP:
    00000014 7E               [ 7]   89 	ld	a, (hl)
    00000015 23               [ 6]   90 	inc	hl
    00000016 D9               [ 4]   91 	exx
    00000017 5F               [ 4]   92 	ld	e, a
    00000018 21r3Er00         [10]   93 	ld	hl, #PCMPLAY_SAMPLE_TABLE
    0000001B 19               [11]   94 	add	hl, de
    0000001C 46               [ 7]   95 	ld	b, (hl)
    0000001D 24               [ 4]   96 	inc	h
    0000001E 5E               [ 7]   97 	ld	e, (hl)
    0000001F 24               [ 4]   98 	inc	h
    00000020 66               [ 7]   99 	ld	h, (hl)
    00000021 3E 08            [ 7]  100 	ld	a, #8
    00000023 D3 A0            [11]  101 	out	(0xA0), a
    00000025 ED 41            [12]  102 	out	(c), b
    00000027 3C               [ 4]  103 	inc	a
    00000028 D3 A0            [11]  104 	out	(0xA0), a
    0000002A ED 59            [12]  105 	out	(c), e
    0000002C 3C               [ 4]  106 	inc	a
    0000002D D3 A0            [11]  107 	out	(0xA0), a
    0000002F ED 61            [12]  108 	out	(c), h
    00000031 06 10            [ 7]  109 	ld	b, #16
    00000033                        110 	PCMPLAY_WAITLOOP:
    00000033 10 FE            [13]  111 	djnz	PCMPLAY_WAITLOOP
    00000035 D9               [ 4]  112 	exx
    00000036 1B               [ 6]  113 	dec	de
    00000037 7A               [ 4]  114 	ld	a, d
    00000038 B3               [ 4]  115 	or	e
    00000039 C2r14r00         [10]  116 	jp	nz, PCMPLAY_LOOP
    0000003C FB               [ 4]  117 	ei
    0000003D C9               [10]  118 	ret
    0000003E                        119 	PCMPLAY_SAMPLE_TABLE:
    0000003E 00 01 02 03 04 03 05   120 	.db	00,01,02,03,04,03,05,03,04,05,06,06,05,06,06,06
             03 04 05 06 06 05 06
             06 06
    0000004E 06 06 07 06 07 08 08   121 	.db	06,06,07,06,07,08,08,08,07,07,09,07,09,09,08,08
             08 07 07 09 07 09 09
             08 08
    0000005E 09 09 08 09 09 09 09   122 	.db	09,09,08,09,09,09,09,09,10,10,10,10,09,09,10,10
             09 0A 0A 0A 0A 09 09
             0A 0A
    0000006E 0A 0A 09 0A 0B 0B 0B   123 	.db	10,10,09,10,11,11,11,11,11,11,11,11,10,10,10,11
             0B 0B 0B 0B 0B 0A 0A
             0A 0B
    0000007E 0B 0B 0B 0B 0B 0B 0B   124 	.db	11,11,11,11,11,11,11,12,11,11,12,12,11,12,11,12
             0C 0B 0B 0C 0C 0B 0C
             0B 0C
    0000008E 0C 0C 0C 0B 0C 0B 0C   125 	.db	12,12,12,11,12,11,12,12,12,12,11,12,12,12,12,11
             0C 0C 0C 0B 0C 0C 0C
             0C 0B
    0000009E 0C 0D 0C 0D 0B 0D 0D   126 	.db	12,13,12,13,11,13,13,13,13,13,13,11,13,13,13,13
             0D 0D 0D 0D 0B 0D 0D
             0D 0D
    000000AE 0D 0D 0D 0C 0D 0D 0D   127 	.db	13,13,13,12,13,13,13,12,12,13,12,13,13,13,13,13
             0C 0C 0D 0C 0D 0D 0D
             0D 0D
    000000BE 0D 0C 0D 0D 0D 0D 0D   128 	.db	13,12,13,13,13,13,13,13,13,14,13,13,14,14,14,14
             0D 0D 0E 0D 0D 0E 0E
             0E 0E
    000000CE 0E 0E 0D 0E 0E 0D 0E   129 	.db	14,14,13,14,14,13,14,14,14,14,14,14,13,14,14,14
             0E 0E 0E 0E 0E 0D 0E
             0E 0E
    000000DE 0E 0E 0E 0D 0E 0E 0D   130 	.db	14,14,14,13,14,14,13,14,14,13,13,14,14,14,14,14
             0E 0E 0D 0D 0E 0E 0E
             0E 0E
    000000EE 0E 0E 0E 0E 0D 0E 0E   131 	.db	14,14,14,14,13,14,14,13,14,14,14,14,14,14,13,14
             0D 0E 0E 0E 0E 0E 0E
             0D 0E
    000000FE 0E 0E 0F 0E 0F 0F 0F   132 	.db	14,14,15,14,15,15,15,15,15,15,15,15,15,15,15,15
             0F 0F 0F 0F 0F 0F 0F
             0F 0F
    0000010E 0E 0F 0F 0F 0F 0F 0F   133 	.db	14,15,15,15,15,15,15,14,15,15,15,15,15,15,15,15
             0E 0F 0F 0F 0F 0F 0F
             0F 0F
    0000011E 0F 0F 0F 0F 0F 0F 0F   134 	.db	15,15,15,15,15,15,15,15,15,15,15,14,15,14,14,14
             0F 0F 0F 0F 0E 0F 0E
             0E 0E
    0000012E 0E 0E 0F 0F 0E 0F 0F   135 	.db	14,14,15,15,14,15,15,14,15,15,15,15,15,15,15,14
             0E 0F 0F 0F 0F 0F 0F
             0F 0E
    0000013E 00 00 00 00 00 02 00   136 	.db	00,00,00,00,00,02,00,02,02,03,01,02,04,04,03,04
             02 02 03 01 02 04 04
             03 04
    0000014E 04 05 04 05 05 02 03   137 	.db	04,05,04,05,05,02,03,04,06,06,01,06,02,03,06,07
             04 06 06 01 06 02 03
             06 07
    0000015E 05 06 07 06 06 06 07   138 	.db	05,06,07,06,06,06,07,06,04,04,05,06,08,07,06,06
             06 04 04 05 06 08 07
             06 06
    0000016E 07 06 08 07 03 04 03   139 	.db	07,06,08,07,03,04,03,04,04,05,05,05,08,09,09,07
             04 04 05 05 05 08 09
             09 07
    0000017E 07 07 08 07 08 08 08   140 	.db	07,07,08,07,08,08,08,02,08,09,03,05,09,05,08,06
             02 08 09 03 05 09 05
             08 06
    0000018E 06 07 06 0A 07 09 08   141 	.db	06,07,06,10,07,09,08,07,08,08,09,08,08,09,08,10
             07 08 08 09 08 08 09
             08 0A
    0000019E 09 00 08 01 0A 02 03   142 	.db	09,00,08,01,10,02,03,04,04,05,06,10,06,06,06,07
             04 04 05 06 0A 06 06
             06 07
    000001AE 06 07 07 0A 08 08 07   143 	.db	06,07,07,10,08,08,07,11,11,08,11,08,09,09,09,08
             0B 0B 08 0B 08 09 09
             09 08
    000001BE 09 0B 09 09 0A 0A 0A   144 	.db	09,11,09,09,10,10,10,10,10,00,10,09,02,02,04,03
             0A 0A 00 0A 09 02 02
             04 03
    000001CE 04 04 0B 05 05 0B 07   145 	.db	04,04,11,05,05,11,07,07,07,07,07,08,10,08,08,08
             07 07 07 07 08 0A 08
             08 08
    000001DE 08 08 09 0B 09 09 0C   146 	.db	08,08,09,11,09,09,12,08,09,12,11,09,10,10,09,10
             08 09 0C 0B 09 0A 0A
             09 0A
    000001EE 0A 0A 0A 09 0B 0A 0A   147 	.db	10,10,10,09,11,10,10,12,10,10,11,11,11,10,12,11
             0C 0A 0A 0B 0B 0B 0A
             0C 0B
    000001FE 0B 0B 00 0B 01 02 03   148 	.db	11,11,00,11,01,02,03,04,03,04,04,05,05,05,06,07
             04 03 04 04 05 05 05
             06 07
    0000020E 0C 07 07 07 08 07 08   149 	.db	12,07,07,07,08,07,08,12,08,08,08,09,08,09,09,09
             0C 08 08 08 09 08 09
             09 09
    0000021E 08 09 09 09 09 0A 0A   150 	.db	08,09,09,09,09,10,10,09,10,10,10,13,09,13,13,13
             09 0A 0A 0A 0D 09 0D
             0D 0D
    0000022E 0D 0D 0A 0B 0D 0B 0A   151 	.db	13,13,10,11,13,11,10,13,11,11,11,11,11,10,10,12
             0D 0B 0B 0B 0B 0B 0A
             0A 0C
    0000023E 00 00 00 00 00 00 00   152 	.db	00,00,00,00,00,00,00,01,01,00,00,00,01,00,02,02
             01 01 00 00 00 01 00
             02 02
    0000024E 03 02 01 04 01 01 01   153 	.db	03,02,01,04,01,01,01,01,03,04,00,05,01,01,04,01
             01 03 04 00 05 01 01
             04 01
    0000025E 01 00 04 02 03 04 01   154 	.db	01,00,04,02,03,04,01,05,01,02,01,00,02,06,03,04
             05 01 02 01 00 02 06
             03 04
    0000026E 01 05 06 04 00 00 02   155 	.db	01,05,06,04,00,00,02,02,03,02,03,04,06,02,03,02
             02 03 02 03 04 06 02
             03 02
    0000027E 03 04 00 05 02 03 04   156 	.db	03,04,00,05,02,03,04,00,05,00,02,00,03,02,07,01
             00 05 00 02 00 03 02
             07 01
    0000028E 02 00 04 00 03 07 00   157 	.db	02,00,04,00,03,07,00,05,02,03,08,04,05,00,06,07
             05 02 03 08 04 05 00
             06 07
    0000029E 03 00 07 00 08 01 01   158 	.db	03,00,07,00,08,01,01,01,02,01,00,09,02,03,04,01
             01 02 01 00 09 02 03
             04 01
    000002AE 05 03 04 07 01 02 06   159 	.db	05,03,04,07,01,02,06,01,02,05,04,06,02,03,04,07
             01 02 05 04 06 02 03
             04 07
    000002BE 05 07 06 06 00 01 02   160 	.db	05,07,06,06,00,01,02,03,04,00,05,08,00,01,00,02
             03 04 00 05 08 00 01
             00 02
    000002CE 02 03 00 03 04 03 00   161 	.db	02,03,00,03,04,03,00,01,02,03,04,00,09,02,03,04
             01 02 03 04 00 09 02
             03 04
    000002DE 04 05 00 08 02 03 00   162 	.db	04,05,00,08,02,03,00,07,05,03,09,06,00,01,07,03
             07 05 03 09 06 00 01
             07 03
    000002EE 04 04 05 08 0A 06 06   163 	.db	04,04,05,08,10,06,06,08,07,07,00,00,01,08,09,04
             08 07 07 00 00 01 08
             09 04
    000002FE 05 05 00 06 00 00 00   164 	.db	05,05,00,06,00,00,00,00,02,02,03,02,03,04,03,00
             00 02 02 03 02 03 04
             03 00
    0000030E 01 02 03 04 00 05 02   165 	.db	01,02,03,04,00,05,02,06,04,04,05,00,06,02,03,04
             06 04 04 05 00 06 02
             03 04
    0000031E 07 05 05 06 06 00 01   166 	.db	07,05,05,06,06,00,01,07,03,04,04,00,08,02,03,04
             07 03 04 04 00 08 02
             03 04
    0000032E 04 05 07 00 06 01 08   167 	.db	04,05,07,00,06,01,08,07,04,05,05,06,06,09,09,11
             07 04 05 05 06 06 09
             09 0B
                                    168 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/pcm/pcmplay.c:240: }
    0000033E C9               [10]  169 	ret
                                    170 	.area _CODE
                                    171 	.area _INITIALIZER
                                    172 	.area _CABS (ABS)
