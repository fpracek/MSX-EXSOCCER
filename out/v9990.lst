                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module v9990
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _g_V9_ColorConfig
                                     12 	.globl _g_V9_ModeConfig
                                     13 	.globl _V9_SetPort
                                     14 	.globl _V9_GetPort
                                     15 	.globl _V9_SetRegister
                                     16 	.globl _V9_SetRegister16
                                     17 	.globl _V9_GetRegister
                                     18 	.globl _V9_Detect
                                     19 	.globl _V9_SetScreenMode
                                     20 	.globl _V9_SetColorMode
                                     21 	.globl _V9_SetScrollingY
                                     22 	.globl _V9_SetScrollingX
                                     23 	.globl _V9_SetScrollingBY
                                     24 	.globl _V9_SetScrollingBX
                                     25 	.globl _V9_ClearVRAM
                                     26 	.globl _V9_SetWriteAddress
                                     27 	.globl _V9_SetReadAddress
                                     28 	.globl _V9_Peek_CurrentAddr
                                     29 	.globl _V9_Peek16_CurrentAddr
                                     30 	.globl _V9_Poke_CurrentAddr
                                     31 	.globl _V9_Poke16_CurrentAddr
                                     32 	.globl _V9_FillVRAM_CurrentAddr
                                     33 	.globl _V9_FillVRAM16_CurrentAddr
                                     34 	.globl _V9_WriteVRAM_CurrentAddr
                                     35 	.globl _V9_ReadVRAM_CurrentAddr
                                     36 	.globl _V9_SetPaletteEntry
                                     37 	.globl _V9_SetCursorAttribute
                                     38 	.globl _V9_SetCursorDisplay
                                     39 ;--------------------------------------------------------
                                     40 ; special function registers
                                     41 ;--------------------------------------------------------
                         00000060    42 _g_V9_VRAMPort	=	0x0060
                         00000061    43 _g_V9_PalettePort	=	0x0061
                         00000062    44 _g_V9_CmdDataPort	=	0x0062
                         00000063    45 _g_V9_RegDataPort	=	0x0063
                         00000064    46 _g_V9_RegSelectPort	=	0x0064
                         00000065    47 _g_V9_SatusPort	=	0x0065
                         00000066    48 _g_V9_IntFlagPort	=	0x0066
                         00000067    49 _g_V9_SysCtrlPort	=	0x0067
                         00000068    50 _g_V9_KanjiAddrLPort	=	0x0068
                         00000069    51 _g_V9_KanjiAddrHPort	=	0x0069
                         00000069    52 _g_V9_KanjiDataPort	=	0x0069
                         0000006A    53 _g_V9_Kanji2AddrLPort	=	0x006a
                         0000006B    54 _g_V9_Kanji2AddrHPort	=	0x006b
                         0000006B    55 _g_V9_Kanji2DataPort	=	0x006b
                         0000006F    56 _g_V9_OutputCtrPort	=	0x006f
                                     57 ;--------------------------------------------------------
                                     58 ; ram data
                                     59 ;--------------------------------------------------------
                                     60 	.area _DATA
                                     61 ;--------------------------------------------------------
                                     62 ; ram data
                                     63 ;--------------------------------------------------------
                                     64 	.area _INITIALIZED
                                     65 ;--------------------------------------------------------
                                     66 ; absolute external ram data
                                     67 ;--------------------------------------------------------
                                     68 	.area _DABS (ABS)
                                     69 ;--------------------------------------------------------
                                     70 ; global & static initialisations
                                     71 ;--------------------------------------------------------
                                     72 	.area _HOME
                                     73 	.area _GSINIT
                                     74 	.area _GSFINAL
                                     75 	.area _GSINIT
                                     76 ;--------------------------------------------------------
                                     77 ; Home
                                     78 ;--------------------------------------------------------
                                     79 	.area _HOME
                                     80 	.area _HOME
                                     81 ;--------------------------------------------------------
                                     82 ; code
                                     83 ;--------------------------------------------------------
                                     84 	.area _CODE
                                     85 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:123: void V9_SetPort(u8 port, u8 value) __NAKED __PRESERVES(b, d, e, h, iyl, iyh)
                                     86 ;	---------------------------------
                                     87 ; Function V9_SetPort
                                     88 ; ---------------------------------
    00000000                         89 _V9_SetPort::
                                     90 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:133: __endasm;
    00000000                         91 	v9_set_port:
    00000000 4F               [ 4]   92 	ld	c, a
    00000001 ED 69            [12]   93 	out	(c), l
    00000003 C9               [10]   94 	ret
                                     95 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:134: }
                                     96 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:138: u8 V9_GetPort(u8 port) __NAKED __PRESERVES(b, d, e, h, l, iyl, iyh)
                                     97 ;	---------------------------------
                                     98 ; Function V9_GetPort
                                     99 ; ---------------------------------
    00000004                        100 _V9_GetPort::
                                    101 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:147: __endasm;
    00000004                        102 	v9_get_port:
    00000004 4F               [ 4]  103 	ld	c, a
    00000005 ED 78            [12]  104 	in	a, (c)
    00000007 C9               [10]  105 	ret
                                    106 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:148: }
                                    107 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:152: void V9_SetRegister(u8 reg, u8 val) __NAKED __PRESERVES(b, c, d, e, h, iyl, iyh)
                                    108 ;	---------------------------------
                                    109 ; Function V9_SetRegister
                                    110 ; ---------------------------------
    00000008                        111 _V9_SetRegister::
                                    112 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:165: __endasm;
    00000008                        113 	v9_set_reg:
    00000008 F3               [ 4]  114 	di
    00000009 D3 64            [11]  115 	out	(0x64), a
    0000000B 7D               [ 4]  116 	ld	a, l
    0000000C FB               [ 4]  117 	ei
    0000000D D3 63            [11]  118 	out	(0x63), a
    0000000F C9               [10]  119 	ret
                                    120 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:166: }
                                    121 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:170: void V9_SetRegister16(u8 reg, u16 val) __NAKED __PRESERVES(b, h, l, iyl, iyh)
                                    122 ;	---------------------------------
                                    123 ; Function V9_SetRegister16
                                    124 ; ---------------------------------
    00000010                        125 _V9_SetRegister16::
                                    126 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:185: __endasm;
    00000010                        127 	v9_set_reg16:
    00000010 F3               [ 4]  128 	di
    00000011 D3 64            [11]  129 	out	(0x64), a
    00000013 7D               [ 4]  130 	ld	a, l
    00000014 FB               [ 4]  131 	ei
    00000015 0E 63            [ 7]  132 	ld	c, #0x63
    00000017 ED 59            [12]  133 	out	(c), e
    00000019 ED 51            [12]  134 	out	(c), d
    0000001B C9               [10]  135 	ret
                                    136 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:186: }
                                    137 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:190: u8 V9_GetRegister(u8 reg) __NAKED __PRESERVES(b, c, d, e, h, l, iyl, iyh)
                                    138 ;	---------------------------------
                                    139 ; Function V9_GetRegister
                                    140 ; ---------------------------------
    0000001C                        141 _V9_GetRegister::
                                    142 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:201: __endasm;
    0000001C                        143 	v9_get_reg:
    0000001C F3               [ 4]  144 	di
    0000001D D3 64            [11]  145 	out	(0x64), a
    0000001F FB               [ 4]  146 	ei
    00000020 DB 63            [11]  147 	in	a, (0x63)
    00000022 C9               [10]  148 	ret
                                    149 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:202: }
                                    150 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:206: bool V9_Detect() __NAKED
                                    151 ;	---------------------------------
                                    152 ; Function V9_Detect
                                    153 ; ---------------------------------
    00000023                        154 _V9_Detect::
                                    155 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:227: __endasm;
    00000023                        156 	v9_detect:
    00000023 3E CF            [ 7]  157 	ld	a, #15 + 0b01000000 + 0b10000000
    00000025 F3               [ 4]  158 	di
    00000026 D3 64            [11]  159 	out	(0x64), a
    00000028 DB 63            [11]  160 	in	a, (0x63)
    0000002A 47               [ 4]  161 	ld	b, a
    0000002B 2F               [ 4]  162 	cpl
    0000002C D3 63            [11]  163 	out	(0x63), a
    0000002E DB 63            [11]  164 	in	a, (0x63)
    00000030 A8               [ 4]  165 	xor	b
    00000031 28 04            [12]  166 	jr	z, v9_notfound
    00000033                        167 	v9_found:
    00000033 0E 63            [ 7]  168 	ld	c, #0x63
    00000035 ED 41            [12]  169 	out	(c), b
    00000037                        170 	v9_notfound:
    00000037 FB               [ 4]  171 	ei
    00000038 C9               [10]  172 	ret
                                    173 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:228: }
                                    174 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:232: void V9_SetScreenMode(u8 mode)
                                    175 ;	---------------------------------
                                    176 ; Function V9_SetScreenMode
                                    177 ; ---------------------------------
    00000039                        178 _V9_SetScreenMode::
    00000039 5F               [ 4]  179 	ld	e, a
                                    180 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:234: const u8* ptr = (const u8*)&g_V9_ModeConfig[mode];
    0000003A 01r6Ar00         [10]  181 	ld	bc, #_g_V9_ModeConfig+0
    0000003D 16 00            [ 7]  182 	ld	d, #0x00
    0000003F 6B               [ 4]  183 	ld	l, e
    00000040 62               [ 4]  184 	ld	h, d
    00000041 29               [11]  185 	add	hl, hl
    00000042 19               [11]  186 	add	hl, de
    00000043 09               [11]  187 	add	hl, bc
    00000044 EB               [ 4]  188 	ex	de, hl
                                    189 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:235: V9_SetRegister(6, *ptr++);
    00000045 1A               [ 7]  190 	ld	a, (de)
    00000046 6F               [ 4]  191 	ld	l, a
                                    192 ;	spillPairReg hl
                                    193 ;	spillPairReg hl
    00000047 13               [ 6]  194 	inc	de
    00000048 3E 06            [ 7]  195 	ld	a, #0x06
    0000004A CDr08r00         [17]  196 	call	_V9_SetRegister
                                    197 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:236: V9_SetRegister(7, *ptr++);
    0000004D 1A               [ 7]  198 	ld	a, (de)
    0000004E 6F               [ 4]  199 	ld	l, a
                                    200 ;	spillPairReg hl
                                    201 ;	spillPairReg hl
    0000004F 13               [ 6]  202 	inc	de
    00000050 3E 07            [ 7]  203 	ld	a, #0x07
    00000052 CDr08r00         [17]  204 	call	_V9_SetRegister
                                    205 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:237: V9_SetPort(V9_P07, *ptr);
    00000055 1A               [ 7]  206 	ld	a, (de)
    00000056 6F               [ 4]  207 	ld	l, a
                                    208 ;	spillPairReg hl
                                    209 ;	spillPairReg hl
    00000057 3E 67            [ 7]  210 	ld	a, #0x67
    00000059 CDr00r00         [17]  211 	call	_V9_SetPort
                                    212 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:239: V9_SetRegister(8, V9_R08_DISP_ON | 0x02); // Enable display
    0000005C 2E 82            [ 7]  213 	ld	l, #0x82
                                    214 ;	spillPairReg hl
                                    215 ;	spillPairReg hl
    0000005E 3E 08            [ 7]  216 	ld	a, #0x08
    00000060 CDr08r00         [17]  217 	call	_V9_SetRegister
                                    218 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:240: V9_SetRegister(13, 0x00); // Reset color mode
    00000063 2E 00            [ 7]  219 	ld	l, #0x00
                                    220 ;	spillPairReg hl
                                    221 ;	spillPairReg hl
    00000065 3E 0D            [ 7]  222 	ld	a, #0x0d
                                    223 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:241: }
    00000067 C3r08r00         [10]  224 	jp	_V9_SetRegister
    0000006A                        225 _g_V9_ModeConfig:
    0000006A 05                     226 	.db #0x05	; 5
    0000006B 00                     227 	.db #0x00	; 0
    0000006C 00                     228 	.db #0x00	; 0
    0000006D 59                     229 	.db #0x59	; 89	'Y'
    0000006E 00                     230 	.db #0x00	; 0
    0000006F 00                     231 	.db #0x00	; 0
    00000070 82                     232 	.db #0x82	; 130
    00000071 00                     233 	.db #0x00	; 0
    00000072 01                     234 	.db #0x01	; 1
    00000073 82                     235 	.db #0x82	; 130
    00000074 00                     236 	.db #0x00	; 0
    00000075 00                     237 	.db #0x00	; 0
    00000076 96                     238 	.db #0x96	; 150
    00000077 00                     239 	.db #0x00	; 0
    00000078 01                     240 	.db #0x01	; 1
    00000079 96                     241 	.db #0x96	; 150
    0000007A 00                     242 	.db #0x00	; 0
    0000007B 00                     243 	.db #0x00	; 0
    0000007C A9                     244 	.db #0xa9	; 169
    0000007D 00                     245 	.db #0x00	; 0
    0000007E 01                     246 	.db #0x01	; 1
    0000007F A9                     247 	.db #0xa9	; 169
    00000080 01                     248 	.db #0x01	; 1
    00000081 00                     249 	.db #0x00	; 0
    00000082 A9                     250 	.db #0xa9	; 169
    00000083 41                     251 	.db #0x41	; 65	'A'
    00000084 00                     252 	.db #0x00	; 0
    00000085 A9                     253 	.db #0xa9	; 169
    00000086 00                     254 	.db #0x00	; 0
    00000087 00                     255 	.db #0x00	; 0
    00000088                        256 _g_V9_ColorConfig:
    00000088 00                     257 	.db #0x00	; 0
    00000089 00                     258 	.db #0x00	; 0
    0000008A 01                     259 	.db #0x01	; 1
    0000008B 00                     260 	.db #0x00	; 0
    0000008C 02                     261 	.db #0x02	; 2
    0000008D 00                     262 	.db #0x00	; 0
    0000008E 02                     263 	.db #0x02	; 2
    0000008F 40                     264 	.db #0x40	; 64
    00000090 02                     265 	.db #0x02	; 2
    00000091 80                     266 	.db #0x80	; 128
    00000092 02                     267 	.db #0x02	; 2
    00000093 A0                     268 	.db #0xa0	; 160
    00000094 02                     269 	.db #0x02	; 2
    00000095 C0                     270 	.db #0xc0	; 192
    00000096 02                     271 	.db #0x02	; 2
    00000097 E0                     272 	.db #0xe0	; 224
    00000098 03                     273 	.db #0x03	; 3
    00000099 00                     274 	.db #0x00	; 0
                                    275 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:250: void V9_SetColorMode(u8 mode)
                                    276 ;	---------------------------------
                                    277 ; Function V9_SetColorMode
                                    278 ; ---------------------------------
    0000009A                        279 _V9_SetColorMode::
    0000009A 6F               [ 4]  280 	ld	l, a
                                    281 ;	spillPairReg hl
                                    282 ;	spillPairReg hl
                                    283 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:252: const u8* ptr = (const u8*)&g_V9_ColorConfig[mode];
    0000009B 01r88r00         [10]  284 	ld	bc, #_g_V9_ColorConfig+0
    0000009E 26 00            [ 7]  285 	ld	h, #0x00
                                    286 ;	spillPairReg hl
                                    287 ;	spillPairReg hl
    000000A0 29               [11]  288 	add	hl, hl
    000000A1 09               [11]  289 	add	hl, bc
    000000A2 EB               [ 4]  290 	ex	de, hl
                                    291 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:253: V9_SetFlag(6, V9_R06_BPP_MASK, *ptr++);
    000000A3 1A               [ 7]  292 	ld	a, (de)
    000000A4 4F               [ 4]  293 	ld	c, a
    000000A5 13               [ 6]  294 	inc	de
                                    295 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.h:258: inline void V9_SetFlag(u8 reg, u8 mask, u8 flag) { V9_SetRegister(reg, V9_GetRegister(reg) & (~mask) | flag); }
    000000A6 3E 06            [ 7]  296 	ld	a, #0x06
    000000A8 CDr1Cr00         [17]  297 	call	_V9_GetRegister
    000000AB E6 FC            [ 7]  298 	and	a, #0xfc
    000000AD B1               [ 4]  299 	or	a, c
    000000AE 6F               [ 4]  300 	ld	l, a
                                    301 ;	spillPairReg hl
                                    302 ;	spillPairReg hl
    000000AF 3E 06            [ 7]  303 	ld	a, #0x06
    000000B1 CDr08r00         [17]  304 	call	_V9_SetRegister
                                    305 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:254: V9_SetFlag(13, (u8)(V9_R13_PLTM_MASK + V9_R13_YAE), *ptr);
    000000B4 1A               [ 7]  306 	ld	a, (de)
    000000B5 4F               [ 4]  307 	ld	c, a
                                    308 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.h:258: inline void V9_SetFlag(u8 reg, u8 mask, u8 flag) { V9_SetRegister(reg, V9_GetRegister(reg) & (~mask) | flag); }
    000000B6 3E 0D            [ 7]  309 	ld	a, #0x0d
    000000B8 CDr1Cr00         [17]  310 	call	_V9_GetRegister
    000000BB E6 1F            [ 7]  311 	and	a, #0x1f
    000000BD B1               [ 4]  312 	or	a, c
    000000BE 6F               [ 4]  313 	ld	l, a
                                    314 ;	spillPairReg hl
                                    315 ;	spillPairReg hl
    000000BF 3E 0D            [ 7]  316 	ld	a, #0x0d
                                    317 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:254: V9_SetFlag(13, (u8)(V9_R13_PLTM_MASK + V9_R13_YAE), *ptr);
                                    318 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:255: }
    000000C1 C3r08r00         [10]  319 	jp	_V9_SetRegister
                                    320 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:261: void V9_SetScrollingY(u16 y)
                                    321 ;	---------------------------------
                                    322 ; Function V9_SetScrollingY
                                    323 ; ---------------------------------
    000000C4                        324 _V9_SetScrollingY::
    000000C4 EB               [ 4]  325 	ex	de, hl
                                    326 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:264: V9_SetRegister(17, y & 0xFF);
    000000C5 6B               [ 4]  327 	ld	l, e
                                    328 ;	spillPairReg hl
                                    329 ;	spillPairReg hl
    000000C6 3E 11            [ 7]  330 	ld	a, #0x11
    000000C8 CDr08r00         [17]  331 	call	_V9_SetRegister
                                    332 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:267: u8 a = (y >> 8) & 0x1F;
    000000CB 7A               [ 4]  333 	ld	a, d
    000000CC E6 1F            [ 7]  334 	and	a, #0x1f
    000000CE 4F               [ 4]  335 	ld	c, a
                                    336 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:268: u8 b = V9_GetRegister(18) & 0xE0;
    000000CF 3E 12            [ 7]  337 	ld	a, #0x12
    000000D1 CDr1Cr00         [17]  338 	call	_V9_GetRegister
    000000D4 E6 E0            [ 7]  339 	and	a, #0xe0
                                    340 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:269: V9_SetRegister(18, a | b);
    000000D6 B1               [ 4]  341 	or	a, c
    000000D7 6F               [ 4]  342 	ld	l, a
                                    343 ;	spillPairReg hl
                                    344 ;	spillPairReg hl
    000000D8 3E 12            [ 7]  345 	ld	a, #0x12
                                    346 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:270: }
    000000DA C3r08r00         [10]  347 	jp	_V9_SetRegister
                                    348 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:274: void V9_SetScrollingX(u16 x)
                                    349 ;	---------------------------------
                                    350 ; Function V9_SetScrollingX
                                    351 ; ---------------------------------
    000000DD                        352 _V9_SetScrollingX::
    000000DD EB               [ 4]  353 	ex	de, hl
                                    354 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:277: V9_SetRegister(19, x & 0x07);
    000000DE 7B               [ 4]  355 	ld	a, e
    000000DF E6 07            [ 7]  356 	and	a, #0x07
    000000E1 6F               [ 4]  357 	ld	l, a
                                    358 ;	spillPairReg hl
                                    359 ;	spillPairReg hl
    000000E2 3E 13            [ 7]  360 	ld	a, #0x13
    000000E4 CDr08r00         [17]  361 	call	_V9_SetRegister
                                    362 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:280: V9_SetRegister(20, (x >> 3) & 0xFF);
    000000E7 CB 3A            [ 8]  363 	srl	d
    000000E9 CB 1B            [ 8]  364 	rr	e
    000000EB CB 3A            [ 8]  365 	srl	d
    000000ED CB 1B            [ 8]  366 	rr	e
    000000EF CB 3A            [ 8]  367 	srl	d
    000000F1 CB 1B            [ 8]  368 	rr	e
    000000F3 6B               [ 4]  369 	ld	l, e
                                    370 ;	spillPairReg hl
                                    371 ;	spillPairReg hl
    000000F4 3E 14            [ 7]  372 	ld	a, #0x14
                                    373 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:281: }
    000000F6 C3r08r00         [10]  374 	jp	_V9_SetRegister
                                    375 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:287: void V9_SetScrollingBY(u16 y)
                                    376 ;	---------------------------------
                                    377 ; Function V9_SetScrollingBY
                                    378 ; ---------------------------------
    000000F9                        379 _V9_SetScrollingBY::
    000000F9 EB               [ 4]  380 	ex	de, hl
                                    381 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:290: V9_SetRegister(21, y & 0xFF);
    000000FA 6B               [ 4]  382 	ld	l, e
                                    383 ;	spillPairReg hl
                                    384 ;	spillPairReg hl
    000000FB 3E 15            [ 7]  385 	ld	a, #0x15
    000000FD CDr08r00         [17]  386 	call	_V9_SetRegister
                                    387 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:293: u8 a = (y >> 8) & 0x01;
    00000100 7A               [ 4]  388 	ld	a, d
    00000101 E6 01            [ 7]  389 	and	a, #0x01
    00000103 4F               [ 4]  390 	ld	c, a
                                    391 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:294: u8 b = V9_GetRegister(22) & 0xFE;
    00000104 3E 16            [ 7]  392 	ld	a, #0x16
    00000106 CDr1Cr00         [17]  393 	call	_V9_GetRegister
    00000109 CB 87            [ 8]  394 	res	0, a
                                    395 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:295: V9_SetRegister(22, a | b);
    0000010B B1               [ 4]  396 	or	a, c
    0000010C 6F               [ 4]  397 	ld	l, a
                                    398 ;	spillPairReg hl
                                    399 ;	spillPairReg hl
    0000010D 3E 16            [ 7]  400 	ld	a, #0x16
                                    401 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:296: }
    0000010F C3r08r00         [10]  402 	jp	_V9_SetRegister
                                    403 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:300: void V9_SetScrollingBX(u16 x)
                                    404 ;	---------------------------------
                                    405 ; Function V9_SetScrollingBX
                                    406 ; ---------------------------------
    00000112                        407 _V9_SetScrollingBX::
    00000112 EB               [ 4]  408 	ex	de, hl
                                    409 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:303: V9_SetRegister(23, x & 0x07);
    00000113 7B               [ 4]  410 	ld	a, e
    00000114 E6 07            [ 7]  411 	and	a, #0x07
    00000116 6F               [ 4]  412 	ld	l, a
                                    413 ;	spillPairReg hl
                                    414 ;	spillPairReg hl
    00000117 3E 17            [ 7]  415 	ld	a, #0x17
    00000119 CDr08r00         [17]  416 	call	_V9_SetRegister
                                    417 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:306: V9_SetRegister(24, (x >> 3) & 0xFF);
    0000011C CB 3A            [ 8]  418 	srl	d
    0000011E CB 1B            [ 8]  419 	rr	e
    00000120 CB 3A            [ 8]  420 	srl	d
    00000122 CB 1B            [ 8]  421 	rr	e
    00000124 CB 3A            [ 8]  422 	srl	d
    00000126 CB 1B            [ 8]  423 	rr	e
    00000128 6B               [ 4]  424 	ld	l, e
                                    425 ;	spillPairReg hl
                                    426 ;	spillPairReg hl
    00000129 3E 18            [ 7]  427 	ld	a, #0x18
                                    428 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:307: }
    0000012B C3r08r00         [10]  429 	jp	_V9_SetRegister
                                    430 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:313: void V9_ClearVRAM() __NAKED __PRESERVES(d, e, h, l, iyl, iyh)
                                    431 ;	---------------------------------
                                    432 ; Function V9_ClearVRAM
                                    433 ; ---------------------------------
    0000012E                        434 _V9_ClearVRAM::
                                    435 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:344: __endasm;
    0000012E F3               [ 4]  436 	di
    0000012F AF               [ 4]  437 	xor	a
    00000130 D3 64            [11]  438 	out	(0x64), a
    00000132 D3 63            [11]  439 	out	(0x63), a
    00000134 D3 63            [11]  440 	out	(0x63), a
    00000136 D3 63            [11]  441 	out	(0x63), a
    00000138 47               [ 4]  442 	ld	b, a
    00000139 4F               [ 4]  443 	ld	c, a
    0000013A                        444 	v9_clear_loop:
    0000013A D3 60            [11]  445 	out	(0x60), a
    0000013C D3 60            [11]  446 	out	(0x60), a
    0000013E D3 60            [11]  447 	out	(0x60), a
    00000140 D3 60            [11]  448 	out	(0x60), a
    00000142 D3 60            [11]  449 	out	(0x60), a
    00000144 D3 60            [11]  450 	out	(0x60), a
    00000146 D3 60            [11]  451 	out	(0x60), a
    00000148 D3 60            [11]  452 	out	(0x60), a
    0000014A 10 EE            [13]  453 	djnz	v9_clear_loop
    0000014C 0D               [ 4]  454 	dec	c
    0000014D C2r3Ar01         [10]  455 	jp	nz, v9_clear_loop
    00000150 FB               [ 4]  456 	ei
    00000151 C9               [10]  457 	ret
                                    458 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:345: }
                                    459 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:349: void V9_SetWriteAddress(u32 addr) __NAKED __PRESERVES(b, iyl, iyh)
                                    460 ;	---------------------------------
                                    461 ; Function V9_SetWriteAddress
                                    462 ; ---------------------------------
    00000152                        463 _V9_SetWriteAddress::
                                    464 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:363: __endasm;							//-total: 67 cc
    00000152                        465 	v9_set_write_addr:
    00000152 AF               [ 4]  466 	xor	a
    00000153 F3               [ 4]  467 	di
    00000154 D3 64            [11]  468 	out	(0x64), a
    00000156 0E 63            [ 7]  469 	ld	c, #0x63
    00000158 ED 59            [12]  470 	out	(c), e
    0000015A ED 51            [12]  471 	out	(c), d
    0000015C ED 69            [12]  472 	out	(c), l
    0000015E C9               [10]  473 	ret
                                    474 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:364: }
                                    475 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:368: void V9_SetReadAddress(u32 addr) __NAKED __PRESERVES(b, iyl, iyh)
                                    476 ;	---------------------------------
                                    477 ; Function V9_SetReadAddress
                                    478 ; ---------------------------------
    0000015F                        479 _V9_SetReadAddress::
                                    480 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:382: __endasm;							//-total: 70 cc
    0000015F                        481 	v9_set_read_addr:
    0000015F 3E 03            [ 7]  482 	ld	a, #3
    00000161 F3               [ 4]  483 	di
    00000162 D3 64            [11]  484 	out	(0x64), a
    00000164 0E 63            [ 7]  485 	ld	c, #0x63
    00000166 ED 59            [12]  486 	out	(c), e
    00000168 ED 51            [12]  487 	out	(c), d
    0000016A ED 69            [12]  488 	out	(c), l
    0000016C C9               [10]  489 	ret
                                    490 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:383: }
                                    491 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:387: u8 V9_Peek_CurrentAddr() __NAKED __PRESERVES(b, c, d, e, h, l, iyl, iyh)
                                    492 ;	---------------------------------
                                    493 ; Function V9_Peek_CurrentAddr
                                    494 ; ---------------------------------
    0000016D                        495 _V9_Peek_CurrentAddr::
                                    496 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:393: __endasm;
    0000016D FB               [ 4]  497 	ei
    0000016E DB 60            [11]  498 	in	a, (0x60)
    00000170 C9               [10]  499 	ret
                                    500 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:394: }
                                    501 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:398: u16 V9_Peek16_CurrentAddr() __NAKED __PRESERVES(b, c, h, l, iyl, iyh)
                                    502 ;	---------------------------------
                                    503 ; Function V9_Peek16_CurrentAddr
                                    504 ; ---------------------------------
    00000171                        505 _V9_Peek16_CurrentAddr::
                                    506 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:407: __endasm;
    00000171 DB 60            [11]  507 	in	a, (0x60)
    00000173 5F               [ 4]  508 	ld	e, a
    00000174 FB               [ 4]  509 	ei
    00000175 DB 60            [11]  510 	in	a, (0x60)
    00000177 57               [ 4]  511 	ld	d, a
    00000178 C9               [10]  512 	ret
                                    513 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:408: }
                                    514 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:412: void V9_Poke_CurrentAddr(u8 val) __NAKED __PRESERVES(b, c, d, e, h, l, iyl, iyh)
                                    515 ;	---------------------------------
                                    516 ; Function V9_Poke_CurrentAddr
                                    517 ; ---------------------------------
    00000179                        518 _V9_Poke_CurrentAddr::
                                    519 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:420: __endasm;
    00000179 FB               [ 4]  520 	ei
    0000017A D3 60            [11]  521 	out	(0x60), a
    0000017C C9               [10]  522 	ret
                                    523 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:421: }
                                    524 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:425: void V9_Poke16_CurrentAddr(u16 val) __NAKED __PRESERVES(b, c, d, e, iyl, iyh)
                                    525 ;	---------------------------------
                                    526 ; Function V9_Poke16_CurrentAddr
                                    527 ; ---------------------------------
    0000017D                        528 _V9_Poke16_CurrentAddr::
                                    529 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:436: __endasm;
    0000017D 7D               [ 4]  530 	ld	a, l
    0000017E D3 60            [11]  531 	out	(0x60), a
    00000180 7C               [ 4]  532 	ld	a, h
    00000181 FB               [ 4]  533 	ei
    00000182 D3 60            [11]  534 	out	(0x60), a
    00000184 C9               [10]  535 	ret
                                    536 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:437: }
                                    537 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:441: void V9_FillVRAM_CurrentAddr(u8 value, u16 count) __NAKED
                                    538 ;	---------------------------------
                                    539 ; Function V9_FillVRAM_CurrentAddr
                                    540 ; ---------------------------------
    00000185                        541 _V9_FillVRAM_CurrentAddr::
                                    542 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:461: __endasm;
    00000185                        543 	v9_fill_setup:
    00000185 43               [ 4]  544 	ld	b, e
    00000186 1B               [ 6]  545 	dec	de
    00000187 14               [ 4]  546 	inc	d
    00000188                        547 	v9_fill_loop:
    00000188 D3 60            [11]  548 	out	(0x60), a
    0000018A 10 FC            [13]  549 	djnz	v9_fill_loop
    0000018C 15               [ 4]  550 	dec	d
    0000018D C2r88r01         [10]  551 	jp	nz, v9_fill_loop
    00000190 FB               [ 4]  552 	ei
    00000191 C9               [10]  553 	ret
                                    554 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:462: }
                                    555 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:466: void V9_FillVRAM16_CurrentAddr(u16 value, u16 count) __NAKED
                                    556 ;	---------------------------------
                                    557 ; Function V9_FillVRAM16_CurrentAddr
                                    558 ; ---------------------------------
    00000192                        559 _V9_FillVRAM16_CurrentAddr::
                                    560 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:489: __endasm;
    00000192                        561 	v9_fill16_setup:
    00000192 43               [ 4]  562 	ld	b, e
    00000193 1B               [ 6]  563 	dec	de
    00000194 14               [ 4]  564 	inc	d
    00000195                        565 	v9_fill16_loop:
    00000195 7D               [ 4]  566 	ld	a, l
    00000196 D3 60            [11]  567 	out	(0x60), a
    00000198 7C               [ 4]  568 	ld	a, h
    00000199 D3 60            [11]  569 	out	(0x60), a
    0000019B 10 F8            [13]  570 	djnz	v9_fill16_loop
    0000019D 15               [ 4]  571 	dec	d
    0000019E C2r95r01         [10]  572 	jp	nz, v9_fill16_loop
    000001A1 FB               [ 4]  573 	ei
    000001A2 C9               [10]  574 	ret
                                    575 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:490: }
                                    576 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:494: void V9_WriteVRAM_CurrentAddr(const u8* src, u16 count) __NAKED
                                    577 ;	---------------------------------
                                    578 ; Function V9_WriteVRAM_CurrentAddr
                                    579 ; ---------------------------------
    000001A3                        580 _V9_WriteVRAM_CurrentAddr::
                                    581 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:514: __endasm;
    000001A3                        582 	v9_write_setup:
    000001A3 43               [ 4]  583 	ld	b, e
    000001A4 1B               [ 6]  584 	dec	de
    000001A5 14               [ 4]  585 	inc	d
    000001A6 0E 60            [ 7]  586 	ld	c, #0x60
    000001A8                        587 	v9_write_loop:
    000001A8 ED B3            [21]  588 	otir
    000001AA 15               [ 4]  589 	dec	d
    000001AB C2rA8r01         [10]  590 	jp	nz, v9_write_loop
    000001AE FB               [ 4]  591 	ei
    000001AF C9               [10]  592 	ret
                                    593 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:515: }
                                    594 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:519: void V9_ReadVRAM_CurrentAddr(const u8* dest, u16 count) __NAKED
                                    595 ;	---------------------------------
                                    596 ; Function V9_ReadVRAM_CurrentAddr
                                    597 ; ---------------------------------
    000001B0                        598 _V9_ReadVRAM_CurrentAddr::
                                    599 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:539: __endasm;
    000001B0                        600 	v9_read_setup:
    000001B0 43               [ 4]  601 	ld	b, e
    000001B1 1B               [ 6]  602 	dec	de
    000001B2 14               [ 4]  603 	inc	d
    000001B3 0E 60            [ 7]  604 	ld	c, #0x60
    000001B5                        605 	v9_read_loop:
    000001B5 ED B2            [21]  606 	inir
    000001B7 15               [ 4]  607 	dec	d
    000001B8 C2rB5r01         [10]  608 	jp	nz, v9_read_loop
    000001BB FB               [ 4]  609 	ei
    000001BC C9               [10]  610 	ret
                                    611 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:540: }
                                    612 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:608: void V9_SetPaletteEntry(u8 index, const u8* color) __NAKED __PRESERVES(h, l, iyl, iyh)
                                    613 ;	---------------------------------
                                    614 ; Function V9_SetPaletteEntry
                                    615 ; ---------------------------------
    000001BD                        616 _V9_SetPaletteEntry::
                                    617 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:641: __endasm;
    000001BD 0E 64            [ 7]  618 	ld	c, #0x64
    000001BF 06 0E            [ 7]  619 	ld	b, #14
    000001C1 F3               [ 4]  620 	di
    000001C2 ED 41            [12]  621 	out	(c), b
    000001C4 CB 27            [ 8]  622 	sla	a
    000001C6 CB 27            [ 8]  623 	sla	a
    000001C8 D3 63            [11]  624 	out	(0x63), a
    000001CA                        625 	v9_set_pal_entry:
    000001CA 1A               [ 7]  626 	ld	a, (de)
    000001CB D3 61            [11]  627 	out	(0x61), a
    000001CD 13               [ 6]  628 	inc	de
    000001CE 1A               [ 7]  629 	ld	a, (de)
    000001CF D3 61            [11]  630 	out	(0x61), a
    000001D1 13               [ 6]  631 	inc	de
    000001D2 1A               [ 7]  632 	ld	a, (de)
    000001D3 FB               [ 4]  633 	ei
    000001D4 D3 61            [11]  634 	out	(0x61), a
    000001D6 C9               [10]  635 	ret
                                    636 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:642: }
                                    637 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:658: void V9_SetCursorAttribute(u8 id, u16 x, u16 y, u8 color)
                                    638 ;	---------------------------------
                                    639 ; Function V9_SetCursorAttribute
                                    640 ; ---------------------------------
    000001D7                        641 _V9_SetCursorAttribute::
    000001D7 DD E5            [15]  642 	push	ix
    000001D9 DD 21 00 00      [14]  643 	ld	ix,#0
    000001DD DD 39            [15]  644 	add	ix,sp
    000001DF F5               [11]  645 	push	af
    000001E0 4F               [ 4]  646 	ld	c, a
    000001E1 33               [ 6]  647 	inc	sp
    000001E2 33               [ 6]  648 	inc	sp
    000001E3 D5               [11]  649 	push	de
                                    650 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:660: u32 addr = 0x7FE00;
    000001E4 11 00 FE         [10]  651 	ld	de, #0xfe00
    000001E7 21 07 00         [10]  652 	ld	hl, #0x0007
                                    653 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:661: if (id)
    000001EA 79               [ 4]  654 	ld	a, c
    000001EB B7               [ 4]  655 	or	a, a
    000001EC 28 03            [12]  656 	jr	Z, 00102$
                                    657 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:662: addr += 8;
    000001EE 11 08 FE         [10]  658 	ld	de, #0xfe08
    000001F1                        659 00102$:
                                    660 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:663: V9_Poke(addr, y & 0xFF);
    000001F1 DD 46 04         [19]  661 	ld	b, 4 (ix)
                                    662 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.h:388: inline void V9_Poke(u32 addr, u8 val) { V9_SetWriteAddress(addr); V9_Poke_CurrentAddr(val); }
    000001F4 E5               [11]  663 	push	hl
    000001F5 D5               [11]  664 	push	de
    000001F6 CDr52r01         [17]  665 	call	_V9_SetWriteAddress
    000001F9 D1               [10]  666 	pop	de
    000001FA 78               [ 4]  667 	ld	a, b
    000001FB CDr79r01         [17]  668 	call	_V9_Poke_CurrentAddr
    000001FE E1               [10]  669 	pop	hl
                                    670 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:664: addr += 2;
    000001FF 7B               [ 4]  671 	ld	a, e
    00000200 C6 02            [ 7]  672 	add	a, #0x02
    00000202 5F               [ 4]  673 	ld	e, a
    00000203 7A               [ 4]  674 	ld	a, d
    00000204 CE 00            [ 7]  675 	adc	a, #0x00
    00000206 57               [ 4]  676 	ld	d, a
    00000207 30 01            [12]  677 	jr	NC, 00114$
    00000209 23               [ 6]  678 	inc	hl
    0000020A                        679 00114$:
                                    680 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:665: V9_Poke(addr, y >> 8);
    0000020A DD 46 05         [19]  681 	ld	b, 5 (ix)
                                    682 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.h:388: inline void V9_Poke(u32 addr, u8 val) { V9_SetWriteAddress(addr); V9_Poke_CurrentAddr(val); }
    0000020D E5               [11]  683 	push	hl
    0000020E D5               [11]  684 	push	de
    0000020F CDr52r01         [17]  685 	call	_V9_SetWriteAddress
    00000212 D1               [10]  686 	pop	de
    00000213 78               [ 4]  687 	ld	a, b
    00000214 CDr79r01         [17]  688 	call	_V9_Poke_CurrentAddr
    00000217 E1               [10]  689 	pop	hl
                                    690 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:666: addr += 2;
    00000218 7B               [ 4]  691 	ld	a, e
    00000219 C6 02            [ 7]  692 	add	a, #0x02
    0000021B 5F               [ 4]  693 	ld	e, a
    0000021C 7A               [ 4]  694 	ld	a, d
    0000021D CE 00            [ 7]  695 	adc	a, #0x00
    0000021F 57               [ 4]  696 	ld	d, a
    00000220 30 01            [12]  697 	jr	NC, 00115$
    00000222 23               [ 6]  698 	inc	hl
    00000223                        699 00115$:
                                    700 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:667: V9_Poke(addr, x & 0xFF);
    00000223 DD 46 FE         [19]  701 	ld	b, -2 (ix)
                                    702 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.h:388: inline void V9_Poke(u32 addr, u8 val) { V9_SetWriteAddress(addr); V9_Poke_CurrentAddr(val); }
    00000226 E5               [11]  703 	push	hl
    00000227 D5               [11]  704 	push	de
    00000228 CDr52r01         [17]  705 	call	_V9_SetWriteAddress
    0000022B D1               [10]  706 	pop	de
    0000022C 78               [ 4]  707 	ld	a, b
    0000022D CDr79r01         [17]  708 	call	_V9_Poke_CurrentAddr
    00000230 E1               [10]  709 	pop	hl
                                    710 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:668: addr += 2;
    00000231 7B               [ 4]  711 	ld	a, e
    00000232 C6 02            [ 7]  712 	add	a, #0x02
    00000234 5F               [ 4]  713 	ld	e, a
    00000235 7A               [ 4]  714 	ld	a, d
    00000236 CE 00            [ 7]  715 	adc	a, #0x00
    00000238 57               [ 4]  716 	ld	d, a
    00000239 30 01            [12]  717 	jr	NC, 00116$
    0000023B 23               [ 6]  718 	inc	hl
    0000023C                        719 00116$:
                                    720 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:669: V9_Poke(addr, ((x >> 8) & 0x3) + ((color & 0x3) << 6));
    0000023C DD 7E FF         [19]  721 	ld	a, -1 (ix)
    0000023F E6 03            [ 7]  722 	and	a, #0x03
    00000241 4F               [ 4]  723 	ld	c, a
    00000242 DD 7E 06         [19]  724 	ld	a, 6 (ix)
    00000245 E6 03            [ 7]  725 	and	a, #0x03
    00000247 0F               [ 4]  726 	rrca
    00000248 0F               [ 4]  727 	rrca
    00000249 E6 C0            [ 7]  728 	and	a, #0xc0
    0000024B 81               [ 4]  729 	add	a, c
    0000024C 47               [ 4]  730 	ld	b, a
                                    731 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.h:388: inline void V9_Poke(u32 addr, u8 val) { V9_SetWriteAddress(addr); V9_Poke_CurrentAddr(val); }
    0000024D CDr52r01         [17]  732 	call	_V9_SetWriteAddress
    00000250 78               [ 4]  733 	ld	a, b
    00000251 CDr79r01         [17]  734 	call	_V9_Poke_CurrentAddr
                                    735 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:669: V9_Poke(addr, ((x >> 8) & 0x3) + ((color & 0x3) << 6));
                                    736 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:670: }
    00000254 DD F9            [10]  737 	ld	sp, ix
    00000256 DD E1            [14]  738 	pop	ix
    00000258 E1               [10]  739 	pop	hl
    00000259 F1               [10]  740 	pop	af
    0000025A 33               [ 6]  741 	inc	sp
    0000025B E9               [ 4]  742 	jp	(hl)
                                    743 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:678: void V9_SetCursorDisplay(u8 id, bool enable)
                                    744 ;	---------------------------------
                                    745 ; Function V9_SetCursorDisplay
                                    746 ; ---------------------------------
    0000025C                        747 _V9_SetCursorDisplay::
    0000025C DD E5            [15]  748 	push	ix
    0000025E DD 21 00 00      [14]  749 	ld	ix,#0
    00000262 DD 39            [15]  750 	add	ix,sp
    00000264 3B               [ 6]  751 	dec	sp
    00000265 4F               [ 4]  752 	ld	c, a
    00000266 DD 75 FF         [19]  753 	ld	-1 (ix), l
                                    754 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:680: u32 addr = 0x7FE06;
    00000269 11 06 FE         [10]  755 	ld	de, #0xfe06
    0000026C 21 07 00         [10]  756 	ld	hl, #0x0007
                                    757 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:681: if (id)
    0000026F 79               [ 4]  758 	ld	a, c
    00000270 B7               [ 4]  759 	or	a, a
    00000271 28 03            [12]  760 	jr	Z, 00102$
                                    761 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:682: addr += 8;
    00000273 11 0E FE         [10]  762 	ld	de, #0xfe0e
    00000276                        763 00102$:
                                    764 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:683: u8 val = V9_Peek(addr);
    00000276 E5               [11]  765 	push	hl
    00000277 D5               [11]  766 	push	de
    00000278 CDr5Fr01         [17]  767 	call	_V9_SetReadAddress
    0000027B D1               [10]  768 	pop	de
    0000027C CDr6Dr01         [17]  769 	call	_V9_Peek_CurrentAddr
    0000027F E1               [10]  770 	pop	hl
    00000280 47               [ 4]  771 	ld	b, a
                                    772 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:684: if (enable)
    00000281 DD 7E FF         [19]  773 	ld	a, -1 (ix)
    00000284 B7               [ 4]  774 	or	a, a
    00000285 28 05            [12]  775 	jr	Z, 00104$
                                    776 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:685: val &= ~V9_CURSOR_DISABLE;
    00000287 CB A0            [ 8]  777 	res	4, b
    00000289 C3r8Er02         [10]  778 	jp	00105$
    0000028C                        779 00104$:
                                    780 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:687: val |= V9_CURSOR_DISABLE;
    0000028C CB E0            [ 8]  781 	set	4, b
    0000028E                        782 00105$:
                                    783 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.h:388: inline void V9_Poke(u32 addr, u8 val) { V9_SetWriteAddress(addr); V9_Poke_CurrentAddr(val); }
    0000028E CDr52r01         [17]  784 	call	_V9_SetWriteAddress
    00000291 78               [ 4]  785 	ld	a, b
    00000292 CDr79r01         [17]  786 	call	_V9_Poke_CurrentAddr
                                    787 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:688: V9_Poke(addr, val);
                                    788 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:689: }
    00000295 33               [ 6]  789 	inc	sp
    00000296 DD E1            [14]  790 	pop	ix
    00000298 C9               [10]  791 	ret
                                    792 	.area _CODE
                                    793 	.area _INITIALIZER
                                    794 	.area _CABS (ABS)
