                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module v9990
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _g_V9_ColorConfig
                                     12 	.globl _g_V9_ModeConfig
                                     13 	.globl _V9_SetPort
                                     14 	.globl _V9_GetPort
                                     15 	.globl _V9_SetRegister
                                     16 	.globl _V9_SetRegister16
                                     17 	.globl _V9_GetRegister
                                     18 	.globl _V9_Detect
                                     19 	.globl _V9_SetScreenMode
                                     20 	.globl _V9_SetScrollingY
                                     21 	.globl _V9_SetScrollingX
                                     22 	.globl _V9_SetScrollingBY
                                     23 	.globl _V9_SetScrollingBX
                                     24 	.globl _V9_ClearVRAM
                                     25 	.globl _V9_SetWriteAddress
                                     26 	.globl _V9_SetReadAddress
                                     27 	.globl _V9_Peek_CurrentAddr
                                     28 	.globl _V9_Peek16_CurrentAddr
                                     29 	.globl _V9_Poke_CurrentAddr
                                     30 	.globl _V9_Poke16_CurrentAddr
                                     31 	.globl _V9_FillVRAM_CurrentAddr
                                     32 	.globl _V9_FillVRAM16_CurrentAddr
                                     33 	.globl _V9_WriteVRAM_CurrentAddr
                                     34 	.globl _V9_ReadVRAM_CurrentAddr
                                     35 	.globl _V9_SetPaletteEntry
                                     36 ;--------------------------------------------------------
                                     37 ; special function registers
                                     38 ;--------------------------------------------------------
                         00000060    39 _g_V9_VRAMPort	=	0x0060
                         00000061    40 _g_V9_PalettePort	=	0x0061
                         00000062    41 _g_V9_CmdDataPort	=	0x0062
                         00000063    42 _g_V9_RegDataPort	=	0x0063
                         00000064    43 _g_V9_RegSelectPort	=	0x0064
                         00000065    44 _g_V9_SatusPort	=	0x0065
                         00000066    45 _g_V9_IntFlagPort	=	0x0066
                         00000067    46 _g_V9_SysCtrlPort	=	0x0067
                         00000068    47 _g_V9_KanjiAddrLPort	=	0x0068
                         00000069    48 _g_V9_KanjiAddrHPort	=	0x0069
                         00000069    49 _g_V9_KanjiDataPort	=	0x0069
                         0000006A    50 _g_V9_Kanji2AddrLPort	=	0x006a
                         0000006B    51 _g_V9_Kanji2AddrHPort	=	0x006b
                         0000006B    52 _g_V9_Kanji2DataPort	=	0x006b
                         0000006F    53 _g_V9_OutputCtrPort	=	0x006f
                                     54 ;--------------------------------------------------------
                                     55 ; ram data
                                     56 ;--------------------------------------------------------
                                     57 	.area _DATA
                                     58 ;--------------------------------------------------------
                                     59 ; ram data
                                     60 ;--------------------------------------------------------
                                     61 	.area _INITIALIZED
                                     62 ;--------------------------------------------------------
                                     63 ; absolute external ram data
                                     64 ;--------------------------------------------------------
                                     65 	.area _DABS (ABS)
                                     66 ;--------------------------------------------------------
                                     67 ; global & static initialisations
                                     68 ;--------------------------------------------------------
                                     69 	.area _HOME
                                     70 	.area _GSINIT
                                     71 	.area _GSFINAL
                                     72 	.area _GSINIT
                                     73 ;--------------------------------------------------------
                                     74 ; Home
                                     75 ;--------------------------------------------------------
                                     76 	.area _HOME
                                     77 	.area _HOME
                                     78 ;--------------------------------------------------------
                                     79 ; code
                                     80 ;--------------------------------------------------------
                                     81 	.area _CODE
                                     82 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:123: void V9_SetPort(u8 port, u8 value) __NAKED __PRESERVES(b, d, e, h, iyl, iyh)
                                     83 ;	---------------------------------
                                     84 ; Function V9_SetPort
                                     85 ; ---------------------------------
    00000000                         86 _V9_SetPort::
                                     87 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:133: __endasm;
    00000000                         88 	v9_set_port:
    00000000 4F               [ 4]   89 	ld	c, a
    00000001 ED 69            [12]   90 	out	(c), l
    00000003 C9               [10]   91 	ret
                                     92 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:134: }
                                     93 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:138: u8 V9_GetPort(u8 port) __NAKED __PRESERVES(b, d, e, h, l, iyl, iyh)
                                     94 ;	---------------------------------
                                     95 ; Function V9_GetPort
                                     96 ; ---------------------------------
    00000004                         97 _V9_GetPort::
                                     98 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:147: __endasm;
    00000004                         99 	v9_get_port:
    00000004 4F               [ 4]  100 	ld	c, a
    00000005 ED 78            [12]  101 	in	a, (c)
    00000007 C9               [10]  102 	ret
                                    103 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:148: }
                                    104 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:152: void V9_SetRegister(u8 reg, u8 val) __NAKED __PRESERVES(b, c, d, e, h, iyl, iyh)
                                    105 ;	---------------------------------
                                    106 ; Function V9_SetRegister
                                    107 ; ---------------------------------
    00000008                        108 _V9_SetRegister::
                                    109 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:165: __endasm;
    00000008                        110 	v9_set_reg:
    00000008 F3               [ 4]  111 	di
    00000009 D3 64            [11]  112 	out	(0x64), a
    0000000B 7D               [ 4]  113 	ld	a, l
    0000000C FB               [ 4]  114 	ei
    0000000D D3 63            [11]  115 	out	(0x63), a
    0000000F C9               [10]  116 	ret
                                    117 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:166: }
                                    118 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:170: void V9_SetRegister16(u8 reg, u16 val) __NAKED __PRESERVES(b, h, l, iyl, iyh)
                                    119 ;	---------------------------------
                                    120 ; Function V9_SetRegister16
                                    121 ; ---------------------------------
    00000010                        122 _V9_SetRegister16::
                                    123 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:185: __endasm;
    00000010                        124 	v9_set_reg16:
    00000010 F3               [ 4]  125 	di
    00000011 D3 64            [11]  126 	out	(0x64), a
    00000013 7D               [ 4]  127 	ld	a, l
    00000014 FB               [ 4]  128 	ei
    00000015 0E 63            [ 7]  129 	ld	c, #0x63
    00000017 ED 59            [12]  130 	out	(c), e
    00000019 ED 51            [12]  131 	out	(c), d
    0000001B C9               [10]  132 	ret
                                    133 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:186: }
                                    134 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:190: u8 V9_GetRegister(u8 reg) __NAKED __PRESERVES(b, c, d, e, h, l, iyl, iyh)
                                    135 ;	---------------------------------
                                    136 ; Function V9_GetRegister
                                    137 ; ---------------------------------
    0000001C                        138 _V9_GetRegister::
                                    139 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:201: __endasm;
    0000001C                        140 	v9_get_reg:
    0000001C F3               [ 4]  141 	di
    0000001D D3 64            [11]  142 	out	(0x64), a
    0000001F FB               [ 4]  143 	ei
    00000020 DB 63            [11]  144 	in	a, (0x63)
    00000022 C9               [10]  145 	ret
                                    146 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:202: }
                                    147 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:206: bool V9_Detect() __NAKED
                                    148 ;	---------------------------------
                                    149 ; Function V9_Detect
                                    150 ; ---------------------------------
    00000023                        151 _V9_Detect::
                                    152 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:227: __endasm;
    00000023                        153 	v9_detect:
    00000023 3E CF            [ 7]  154 	ld	a, #15 + 0b01000000 + 0b10000000
    00000025 F3               [ 4]  155 	di
    00000026 D3 64            [11]  156 	out	(0x64), a
    00000028 DB 63            [11]  157 	in	a, (0x63)
    0000002A 47               [ 4]  158 	ld	b, a
    0000002B 2F               [ 4]  159 	cpl
    0000002C D3 63            [11]  160 	out	(0x63), a
    0000002E DB 63            [11]  161 	in	a, (0x63)
    00000030 A8               [ 4]  162 	xor	b
    00000031 28 04            [12]  163 	jr	z, v9_notfound
    00000033                        164 	v9_found:
    00000033 0E 63            [ 7]  165 	ld	c, #0x63
    00000035 ED 41            [12]  166 	out	(c), b
    00000037                        167 	v9_notfound:
    00000037 FB               [ 4]  168 	ei
    00000038 C9               [10]  169 	ret
                                    170 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:228: }
                                    171 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:232: void V9_SetScreenMode(u8 mode)
                                    172 ;	---------------------------------
                                    173 ; Function V9_SetScreenMode
                                    174 ; ---------------------------------
    00000039                        175 _V9_SetScreenMode::
    00000039 5F               [ 4]  176 	ld	e, a
                                    177 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:234: const u8* ptr = (const u8*)&g_V9_ModeConfig[mode];
    0000003A 01r6Ar00         [10]  178 	ld	bc, #_g_V9_ModeConfig+0
    0000003D 16 00            [ 7]  179 	ld	d, #0x00
    0000003F 6B               [ 4]  180 	ld	l, e
    00000040 62               [ 4]  181 	ld	h, d
    00000041 29               [11]  182 	add	hl, hl
    00000042 19               [11]  183 	add	hl, de
    00000043 09               [11]  184 	add	hl, bc
    00000044 EB               [ 4]  185 	ex	de, hl
                                    186 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:235: V9_SetRegister(6, *ptr++);
    00000045 1A               [ 7]  187 	ld	a, (de)
    00000046 6F               [ 4]  188 	ld	l, a
                                    189 ;	spillPairReg hl
                                    190 ;	spillPairReg hl
    00000047 13               [ 6]  191 	inc	de
    00000048 3E 06            [ 7]  192 	ld	a, #0x06
    0000004A CDr08r00         [17]  193 	call	_V9_SetRegister
                                    194 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:236: V9_SetRegister(7, *ptr++);
    0000004D 1A               [ 7]  195 	ld	a, (de)
    0000004E 6F               [ 4]  196 	ld	l, a
                                    197 ;	spillPairReg hl
                                    198 ;	spillPairReg hl
    0000004F 13               [ 6]  199 	inc	de
    00000050 3E 07            [ 7]  200 	ld	a, #0x07
    00000052 CDr08r00         [17]  201 	call	_V9_SetRegister
                                    202 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:237: V9_SetPort(V9_P07, *ptr);
    00000055 1A               [ 7]  203 	ld	a, (de)
    00000056 6F               [ 4]  204 	ld	l, a
                                    205 ;	spillPairReg hl
                                    206 ;	spillPairReg hl
    00000057 3E 67            [ 7]  207 	ld	a, #0x67
    00000059 CDr00r00         [17]  208 	call	_V9_SetPort
                                    209 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:239: V9_SetRegister(8, V9_R08_DISP_ON | 0x02); // Enable display
    0000005C 2E 82            [ 7]  210 	ld	l, #0x82
                                    211 ;	spillPairReg hl
                                    212 ;	spillPairReg hl
    0000005E 3E 08            [ 7]  213 	ld	a, #0x08
    00000060 CDr08r00         [17]  214 	call	_V9_SetRegister
                                    215 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:240: V9_SetRegister(13, 0x00); // Reset color mode
    00000063 2E 00            [ 7]  216 	ld	l, #0x00
                                    217 ;	spillPairReg hl
                                    218 ;	spillPairReg hl
    00000065 3E 0D            [ 7]  219 	ld	a, #0x0d
                                    220 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:241: }
    00000067 C3r08r00         [10]  221 	jp	_V9_SetRegister
    0000006A                        222 _g_V9_ModeConfig:
    0000006A 05                     223 	.db #0x05	; 5
    0000006B 00                     224 	.db #0x00	; 0
    0000006C 00                     225 	.db #0x00	; 0
    0000006D 59                     226 	.db #0x59	; 89	'Y'
    0000006E 00                     227 	.db #0x00	; 0
    0000006F 00                     228 	.db #0x00	; 0
    00000070 82                     229 	.db #0x82	; 130
    00000071 00                     230 	.db #0x00	; 0
    00000072 01                     231 	.db #0x01	; 1
    00000073 82                     232 	.db #0x82	; 130
    00000074 00                     233 	.db #0x00	; 0
    00000075 00                     234 	.db #0x00	; 0
    00000076 96                     235 	.db #0x96	; 150
    00000077 00                     236 	.db #0x00	; 0
    00000078 01                     237 	.db #0x01	; 1
    00000079 96                     238 	.db #0x96	; 150
    0000007A 00                     239 	.db #0x00	; 0
    0000007B 00                     240 	.db #0x00	; 0
    0000007C A9                     241 	.db #0xa9	; 169
    0000007D 00                     242 	.db #0x00	; 0
    0000007E 01                     243 	.db #0x01	; 1
    0000007F A9                     244 	.db #0xa9	; 169
    00000080 01                     245 	.db #0x01	; 1
    00000081 00                     246 	.db #0x00	; 0
    00000082 A9                     247 	.db #0xa9	; 169
    00000083 41                     248 	.db #0x41	; 65	'A'
    00000084 00                     249 	.db #0x00	; 0
    00000085 A9                     250 	.db #0xa9	; 169
    00000086 00                     251 	.db #0x00	; 0
    00000087 00                     252 	.db #0x00	; 0
    00000088                        253 _g_V9_ColorConfig:
    00000088 00                     254 	.db #0x00	; 0
    00000089 00                     255 	.db #0x00	; 0
    0000008A 01                     256 	.db #0x01	; 1
    0000008B 00                     257 	.db #0x00	; 0
    0000008C 02                     258 	.db #0x02	; 2
    0000008D 00                     259 	.db #0x00	; 0
    0000008E 02                     260 	.db #0x02	; 2
    0000008F 40                     261 	.db #0x40	; 64
    00000090 02                     262 	.db #0x02	; 2
    00000091 80                     263 	.db #0x80	; 128
    00000092 02                     264 	.db #0x02	; 2
    00000093 A0                     265 	.db #0xa0	; 160
    00000094 02                     266 	.db #0x02	; 2
    00000095 C0                     267 	.db #0xc0	; 192
    00000096 02                     268 	.db #0x02	; 2
    00000097 E0                     269 	.db #0xe0	; 224
    00000098 03                     270 	.db #0x03	; 3
    00000099 00                     271 	.db #0x00	; 0
                                    272 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:261: void V9_SetScrollingY(u16 y)
                                    273 ;	---------------------------------
                                    274 ; Function V9_SetScrollingY
                                    275 ; ---------------------------------
    0000009A                        276 _V9_SetScrollingY::
    0000009A EB               [ 4]  277 	ex	de, hl
                                    278 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:264: V9_SetRegister(17, y & 0xFF);
    0000009B 6B               [ 4]  279 	ld	l, e
                                    280 ;	spillPairReg hl
                                    281 ;	spillPairReg hl
    0000009C 3E 11            [ 7]  282 	ld	a, #0x11
    0000009E CDr08r00         [17]  283 	call	_V9_SetRegister
                                    284 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:267: u8 a = (y >> 8) & 0x1F;
    000000A1 7A               [ 4]  285 	ld	a, d
    000000A2 E6 1F            [ 7]  286 	and	a, #0x1f
    000000A4 4F               [ 4]  287 	ld	c, a
                                    288 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:268: u8 b = V9_GetRegister(18) & 0xE0;
    000000A5 3E 12            [ 7]  289 	ld	a, #0x12
    000000A7 CDr1Cr00         [17]  290 	call	_V9_GetRegister
    000000AA E6 E0            [ 7]  291 	and	a, #0xe0
                                    292 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:269: V9_SetRegister(18, a | b);
    000000AC B1               [ 4]  293 	or	a, c
    000000AD 6F               [ 4]  294 	ld	l, a
                                    295 ;	spillPairReg hl
                                    296 ;	spillPairReg hl
    000000AE 3E 12            [ 7]  297 	ld	a, #0x12
                                    298 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:270: }
    000000B0 C3r08r00         [10]  299 	jp	_V9_SetRegister
                                    300 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:274: void V9_SetScrollingX(u16 x)
                                    301 ;	---------------------------------
                                    302 ; Function V9_SetScrollingX
                                    303 ; ---------------------------------
    000000B3                        304 _V9_SetScrollingX::
    000000B3 EB               [ 4]  305 	ex	de, hl
                                    306 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:277: V9_SetRegister(19, x & 0x07);
    000000B4 7B               [ 4]  307 	ld	a, e
    000000B5 E6 07            [ 7]  308 	and	a, #0x07
    000000B7 6F               [ 4]  309 	ld	l, a
                                    310 ;	spillPairReg hl
                                    311 ;	spillPairReg hl
    000000B8 3E 13            [ 7]  312 	ld	a, #0x13
    000000BA CDr08r00         [17]  313 	call	_V9_SetRegister
                                    314 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:280: V9_SetRegister(20, (x >> 3) & 0xFF);
    000000BD CB 3A            [ 8]  315 	srl	d
    000000BF CB 1B            [ 8]  316 	rr	e
    000000C1 CB 3A            [ 8]  317 	srl	d
    000000C3 CB 1B            [ 8]  318 	rr	e
    000000C5 CB 3A            [ 8]  319 	srl	d
    000000C7 CB 1B            [ 8]  320 	rr	e
    000000C9 6B               [ 4]  321 	ld	l, e
                                    322 ;	spillPairReg hl
                                    323 ;	spillPairReg hl
    000000CA 3E 14            [ 7]  324 	ld	a, #0x14
                                    325 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:281: }
    000000CC C3r08r00         [10]  326 	jp	_V9_SetRegister
                                    327 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:287: void V9_SetScrollingBY(u16 y)
                                    328 ;	---------------------------------
                                    329 ; Function V9_SetScrollingBY
                                    330 ; ---------------------------------
    000000CF                        331 _V9_SetScrollingBY::
    000000CF EB               [ 4]  332 	ex	de, hl
                                    333 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:290: V9_SetRegister(21, y & 0xFF);
    000000D0 6B               [ 4]  334 	ld	l, e
                                    335 ;	spillPairReg hl
                                    336 ;	spillPairReg hl
    000000D1 3E 15            [ 7]  337 	ld	a, #0x15
    000000D3 CDr08r00         [17]  338 	call	_V9_SetRegister
                                    339 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:293: u8 a = (y >> 8) & 0x01;
    000000D6 7A               [ 4]  340 	ld	a, d
    000000D7 E6 01            [ 7]  341 	and	a, #0x01
    000000D9 4F               [ 4]  342 	ld	c, a
                                    343 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:294: u8 b = V9_GetRegister(22) & 0xFE;
    000000DA 3E 16            [ 7]  344 	ld	a, #0x16
    000000DC CDr1Cr00         [17]  345 	call	_V9_GetRegister
    000000DF CB 87            [ 8]  346 	res	0, a
                                    347 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:295: V9_SetRegister(22, a | b);
    000000E1 B1               [ 4]  348 	or	a, c
    000000E2 6F               [ 4]  349 	ld	l, a
                                    350 ;	spillPairReg hl
                                    351 ;	spillPairReg hl
    000000E3 3E 16            [ 7]  352 	ld	a, #0x16
                                    353 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:296: }
    000000E5 C3r08r00         [10]  354 	jp	_V9_SetRegister
                                    355 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:300: void V9_SetScrollingBX(u16 x)
                                    356 ;	---------------------------------
                                    357 ; Function V9_SetScrollingBX
                                    358 ; ---------------------------------
    000000E8                        359 _V9_SetScrollingBX::
    000000E8 EB               [ 4]  360 	ex	de, hl
                                    361 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:303: V9_SetRegister(23, x & 0x07);
    000000E9 7B               [ 4]  362 	ld	a, e
    000000EA E6 07            [ 7]  363 	and	a, #0x07
    000000EC 6F               [ 4]  364 	ld	l, a
                                    365 ;	spillPairReg hl
                                    366 ;	spillPairReg hl
    000000ED 3E 17            [ 7]  367 	ld	a, #0x17
    000000EF CDr08r00         [17]  368 	call	_V9_SetRegister
                                    369 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:306: V9_SetRegister(24, (x >> 3) & 0xFF);
    000000F2 CB 3A            [ 8]  370 	srl	d
    000000F4 CB 1B            [ 8]  371 	rr	e
    000000F6 CB 3A            [ 8]  372 	srl	d
    000000F8 CB 1B            [ 8]  373 	rr	e
    000000FA CB 3A            [ 8]  374 	srl	d
    000000FC CB 1B            [ 8]  375 	rr	e
    000000FE 6B               [ 4]  376 	ld	l, e
                                    377 ;	spillPairReg hl
                                    378 ;	spillPairReg hl
    000000FF 3E 18            [ 7]  379 	ld	a, #0x18
                                    380 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:307: }
    00000101 C3r08r00         [10]  381 	jp	_V9_SetRegister
                                    382 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:313: void V9_ClearVRAM() __NAKED __PRESERVES(d, e, h, l, iyl, iyh)
                                    383 ;	---------------------------------
                                    384 ; Function V9_ClearVRAM
                                    385 ; ---------------------------------
    00000104                        386 _V9_ClearVRAM::
                                    387 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:344: __endasm;
    00000104 F3               [ 4]  388 	di
    00000105 AF               [ 4]  389 	xor	a
    00000106 D3 64            [11]  390 	out	(0x64), a
    00000108 D3 63            [11]  391 	out	(0x63), a
    0000010A D3 63            [11]  392 	out	(0x63), a
    0000010C D3 63            [11]  393 	out	(0x63), a
    0000010E 47               [ 4]  394 	ld	b, a
    0000010F 4F               [ 4]  395 	ld	c, a
    00000110                        396 	v9_clear_loop:
    00000110 D3 60            [11]  397 	out	(0x60), a
    00000112 D3 60            [11]  398 	out	(0x60), a
    00000114 D3 60            [11]  399 	out	(0x60), a
    00000116 D3 60            [11]  400 	out	(0x60), a
    00000118 D3 60            [11]  401 	out	(0x60), a
    0000011A D3 60            [11]  402 	out	(0x60), a
    0000011C D3 60            [11]  403 	out	(0x60), a
    0000011E D3 60            [11]  404 	out	(0x60), a
    00000120 10 EE            [13]  405 	djnz	v9_clear_loop
    00000122 0D               [ 4]  406 	dec	c
    00000123 C2r10r01         [10]  407 	jp	nz, v9_clear_loop
    00000126 FB               [ 4]  408 	ei
    00000127 C9               [10]  409 	ret
                                    410 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:345: }
                                    411 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:349: void V9_SetWriteAddress(u32 addr) __NAKED __PRESERVES(b, iyl, iyh)
                                    412 ;	---------------------------------
                                    413 ; Function V9_SetWriteAddress
                                    414 ; ---------------------------------
    00000128                        415 _V9_SetWriteAddress::
                                    416 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:363: __endasm;							//-total: 67 cc
    00000128                        417 	v9_set_write_addr:
    00000128 AF               [ 4]  418 	xor	a
    00000129 F3               [ 4]  419 	di
    0000012A D3 64            [11]  420 	out	(0x64), a
    0000012C 0E 63            [ 7]  421 	ld	c, #0x63
    0000012E ED 59            [12]  422 	out	(c), e
    00000130 ED 51            [12]  423 	out	(c), d
    00000132 ED 69            [12]  424 	out	(c), l
    00000134 C9               [10]  425 	ret
                                    426 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:364: }
                                    427 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:368: void V9_SetReadAddress(u32 addr) __NAKED __PRESERVES(b, iyl, iyh)
                                    428 ;	---------------------------------
                                    429 ; Function V9_SetReadAddress
                                    430 ; ---------------------------------
    00000135                        431 _V9_SetReadAddress::
                                    432 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:382: __endasm;							//-total: 70 cc
    00000135                        433 	v9_set_read_addr:
    00000135 3E 03            [ 7]  434 	ld	a, #3
    00000137 F3               [ 4]  435 	di
    00000138 D3 64            [11]  436 	out	(0x64), a
    0000013A 0E 63            [ 7]  437 	ld	c, #0x63
    0000013C ED 59            [12]  438 	out	(c), e
    0000013E ED 51            [12]  439 	out	(c), d
    00000140 ED 69            [12]  440 	out	(c), l
    00000142 C9               [10]  441 	ret
                                    442 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:383: }
                                    443 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:387: u8 V9_Peek_CurrentAddr() __NAKED __PRESERVES(b, c, d, e, h, l, iyl, iyh)
                                    444 ;	---------------------------------
                                    445 ; Function V9_Peek_CurrentAddr
                                    446 ; ---------------------------------
    00000143                        447 _V9_Peek_CurrentAddr::
                                    448 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:393: __endasm;
    00000143 FB               [ 4]  449 	ei
    00000144 DB 60            [11]  450 	in	a, (0x60)
    00000146 C9               [10]  451 	ret
                                    452 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:394: }
                                    453 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:398: u16 V9_Peek16_CurrentAddr() __NAKED __PRESERVES(b, c, h, l, iyl, iyh)
                                    454 ;	---------------------------------
                                    455 ; Function V9_Peek16_CurrentAddr
                                    456 ; ---------------------------------
    00000147                        457 _V9_Peek16_CurrentAddr::
                                    458 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:407: __endasm;
    00000147 DB 60            [11]  459 	in	a, (0x60)
    00000149 5F               [ 4]  460 	ld	e, a
    0000014A FB               [ 4]  461 	ei
    0000014B DB 60            [11]  462 	in	a, (0x60)
    0000014D 57               [ 4]  463 	ld	d, a
    0000014E C9               [10]  464 	ret
                                    465 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:408: }
                                    466 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:412: void V9_Poke_CurrentAddr(u8 val) __NAKED __PRESERVES(b, c, d, e, h, l, iyl, iyh)
                                    467 ;	---------------------------------
                                    468 ; Function V9_Poke_CurrentAddr
                                    469 ; ---------------------------------
    0000014F                        470 _V9_Poke_CurrentAddr::
                                    471 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:420: __endasm;
    0000014F FB               [ 4]  472 	ei
    00000150 D3 60            [11]  473 	out	(0x60), a
    00000152 C9               [10]  474 	ret
                                    475 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:421: }
                                    476 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:425: void V9_Poke16_CurrentAddr(u16 val) __NAKED __PRESERVES(b, c, d, e, iyl, iyh)
                                    477 ;	---------------------------------
                                    478 ; Function V9_Poke16_CurrentAddr
                                    479 ; ---------------------------------
    00000153                        480 _V9_Poke16_CurrentAddr::
                                    481 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:436: __endasm;
    00000153 7D               [ 4]  482 	ld	a, l
    00000154 D3 60            [11]  483 	out	(0x60), a
    00000156 7C               [ 4]  484 	ld	a, h
    00000157 FB               [ 4]  485 	ei
    00000158 D3 60            [11]  486 	out	(0x60), a
    0000015A C9               [10]  487 	ret
                                    488 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:437: }
                                    489 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:441: void V9_FillVRAM_CurrentAddr(u8 value, u16 count) __NAKED
                                    490 ;	---------------------------------
                                    491 ; Function V9_FillVRAM_CurrentAddr
                                    492 ; ---------------------------------
    0000015B                        493 _V9_FillVRAM_CurrentAddr::
                                    494 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:461: __endasm;
    0000015B                        495 	v9_fill_setup:
    0000015B 43               [ 4]  496 	ld	b, e
    0000015C 1B               [ 6]  497 	dec	de
    0000015D 14               [ 4]  498 	inc	d
    0000015E                        499 	v9_fill_loop:
    0000015E D3 60            [11]  500 	out	(0x60), a
    00000160 10 FC            [13]  501 	djnz	v9_fill_loop
    00000162 15               [ 4]  502 	dec	d
    00000163 C2r5Er01         [10]  503 	jp	nz, v9_fill_loop
    00000166 FB               [ 4]  504 	ei
    00000167 C9               [10]  505 	ret
                                    506 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:462: }
                                    507 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:466: void V9_FillVRAM16_CurrentAddr(u16 value, u16 count) __NAKED
                                    508 ;	---------------------------------
                                    509 ; Function V9_FillVRAM16_CurrentAddr
                                    510 ; ---------------------------------
    00000168                        511 _V9_FillVRAM16_CurrentAddr::
                                    512 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:489: __endasm;
    00000168                        513 	v9_fill16_setup:
    00000168 43               [ 4]  514 	ld	b, e
    00000169 1B               [ 6]  515 	dec	de
    0000016A 14               [ 4]  516 	inc	d
    0000016B                        517 	v9_fill16_loop:
    0000016B 7D               [ 4]  518 	ld	a, l
    0000016C D3 60            [11]  519 	out	(0x60), a
    0000016E 7C               [ 4]  520 	ld	a, h
    0000016F D3 60            [11]  521 	out	(0x60), a
    00000171 10 F8            [13]  522 	djnz	v9_fill16_loop
    00000173 15               [ 4]  523 	dec	d
    00000174 C2r6Br01         [10]  524 	jp	nz, v9_fill16_loop
    00000177 FB               [ 4]  525 	ei
    00000178 C9               [10]  526 	ret
                                    527 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:490: }
                                    528 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:494: void V9_WriteVRAM_CurrentAddr(const u8* src, u16 count) __NAKED
                                    529 ;	---------------------------------
                                    530 ; Function V9_WriteVRAM_CurrentAddr
                                    531 ; ---------------------------------
    00000179                        532 _V9_WriteVRAM_CurrentAddr::
                                    533 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:514: __endasm;
    00000179                        534 	v9_write_setup:
    00000179 43               [ 4]  535 	ld	b, e
    0000017A 1B               [ 6]  536 	dec	de
    0000017B 14               [ 4]  537 	inc	d
    0000017C 0E 60            [ 7]  538 	ld	c, #0x60
    0000017E                        539 	v9_write_loop:
    0000017E ED B3            [21]  540 	otir
    00000180 15               [ 4]  541 	dec	d
    00000181 C2r7Er01         [10]  542 	jp	nz, v9_write_loop
    00000184 FB               [ 4]  543 	ei
    00000185 C9               [10]  544 	ret
                                    545 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:515: }
                                    546 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:519: void V9_ReadVRAM_CurrentAddr(const u8* dest, u16 count) __NAKED
                                    547 ;	---------------------------------
                                    548 ; Function V9_ReadVRAM_CurrentAddr
                                    549 ; ---------------------------------
    00000186                        550 _V9_ReadVRAM_CurrentAddr::
                                    551 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:539: __endasm;
    00000186                        552 	v9_read_setup:
    00000186 43               [ 4]  553 	ld	b, e
    00000187 1B               [ 6]  554 	dec	de
    00000188 14               [ 4]  555 	inc	d
    00000189 0E 60            [ 7]  556 	ld	c, #0x60
    0000018B                        557 	v9_read_loop:
    0000018B ED B2            [21]  558 	inir
    0000018D 15               [ 4]  559 	dec	d
    0000018E C2r8Br01         [10]  560 	jp	nz, v9_read_loop
    00000191 FB               [ 4]  561 	ei
    00000192 C9               [10]  562 	ret
                                    563 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:540: }
                                    564 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:608: void V9_SetPaletteEntry(u8 index, const u8* color) __NAKED __PRESERVES(h, l, iyl, iyh)
                                    565 ;	---------------------------------
                                    566 ; Function V9_SetPaletteEntry
                                    567 ; ---------------------------------
    00000193                        568 _V9_SetPaletteEntry::
                                    569 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:641: __endasm;
    00000193 0E 64            [ 7]  570 	ld	c, #0x64
    00000195 06 0E            [ 7]  571 	ld	b, #14
    00000197 F3               [ 4]  572 	di
    00000198 ED 41            [12]  573 	out	(c), b
    0000019A CB 27            [ 8]  574 	sla	a
    0000019C CB 27            [ 8]  575 	sla	a
    0000019E D3 63            [11]  576 	out	(0x63), a
    000001A0                        577 	v9_set_pal_entry:
    000001A0 1A               [ 7]  578 	ld	a, (de)
    000001A1 D3 61            [11]  579 	out	(0x61), a
    000001A3 13               [ 6]  580 	inc	de
    000001A4 1A               [ 7]  581 	ld	a, (de)
    000001A5 D3 61            [11]  582 	out	(0x61), a
    000001A7 13               [ 6]  583 	inc	de
    000001A8 1A               [ 7]  584 	ld	a, (de)
    000001A9 FB               [ 4]  585 	ei
    000001AA D3 61            [11]  586 	out	(0x61), a
    000001AC C9               [10]  587 	ret
                                    588 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/v9990.c:642: }
                                    589 	.area _CODE
                                    590 	.area _INITIALIZER
                                    591 	.area _CABS (ABS)
